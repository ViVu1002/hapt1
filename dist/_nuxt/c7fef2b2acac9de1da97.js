(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{455:function(t,e,r){"use strict";r.r(e);r(125),r(90);var n={mounted:function(){var t=this;socket.on("success-status",(function(data){var e=t.orders.find((function(element){return element.id==data.id}));e&&(e.order_status=data.order)})),socket.on("success-cancel",(function(data){var e=t.orders.find((function(element){return element.id==data.id}));e&&(e.order_status=data.order)})),socket.on("success-cancel-user-order",(function(data){var e=t.orders.find((function(element){return element.id==data.id}));e&&(e.order_status=data.order)})),this.getOrders(),this.getAdmins()},data:function(){return{orders:{index:"",customerId:"",order_status:"",total_price:""},search:"",totalResult:0,pagination:{currentPage:1,perPage:3},user_id:"",users:[]}},methods:{getOrders:function(){var t=this;this.$axios.get("/orders?search="+this.search+"&currentPage="+this.pagination.currentPage+"&perPage="+this.pagination.perPage).then((function(e){t.orders=e.data.data,t.pagination=e.data.pagination}))},handleSearch:function(){this.getOrders()},handleChangePage:function(t){this.pagination.currentPage=t,this.getOrders()},getAdmins:function(){var t=this;this.$axios.get("/users").then((function(e){t.user_id=e.data.decoded.user_id,t.users=e.data.data}))},handelConfirm:function(t){var e=this;this.$axios.put("/orders/confirm/"+t).then((function(r){var n=e.orders.find((function(element){return element.id==t}));n&&(n.order_status=1),socket.emit("update-status",{order:n.order_status,id:t})}))},handleCancel:function(t){var e=this;this.$axios.put("/orders/cancel/"+t).then((function(r){var n=e.orders.find((function(element){return element.id==t}));n&&(n.order_status=2),socket.emit("cancel-order",{order:n.order_status,id:t})}))},handleLogout:function(){Cookie.remove("token"),this.$store.commit("setToken",null),this.$router.push("/login")}}},o=r(43),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("nav",{staticClass:"navbar navbar-custom navbar-fixed-top",attrs:{role:"navigation"}},[r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"navbar-header"},[t._m(0),t._v(" "),t._m(1),t._v(" "),r("li",[r("ul",{staticClass:"nav menu",staticStyle:{color:"#30a5ff"}},[r("li",{staticClass:"active"},[r("a",{on:{click:function(e){return t.$router.push("/user/home")}}},[t._v("Home")])]),t._v(" "),r("li",[r("a",{on:{click:function(e){return t.$router.push("/user/detail/"+t.user_id)}}},[t._v("Admin")])]),t._v(" "),r("li",[r("a",{on:{click:function(e){return t.$router.push("/user/edit/"+t.user_id)}}},[t._v("Profile")])]),t._v(" "),r("li",[r("a",{on:{click:function(e){return t.$router.push("/register")}}},[t._v("Register")])]),t._v(" "),r("li",[r("a",{on:{click:t.handleLogout}},[t._v("Logout")])])])])])])]),t._v(" "),r("div",[r("div",{staticClass:"col-sm-3 col-lg-2 sidebar",staticStyle:{"margin-top":"-30px"},attrs:{id:"sidebar-collapse"}},[t._m(2),t._v(" "),r("div",{staticClass:"divider"}),t._v(" "),r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),t._v(" "),r("ul",{staticClass:"nav menu",staticStyle:{display:"block"}},[r("li",[r("a",{on:{click:function(e){return t.$router.push("/user/home")}}},[t._v("Home")])]),t._v(" "),r("li",[r("a",{on:{click:function(e){return t.$router.push("/categories")}}},[t._v("Categories")])]),t._v(" "),r("li",[r("a",{on:{click:function(e){return t.$router.push("/products")}}},[t._v("Products")])]),t._v(" "),r("li",{staticClass:"active"},[r("a",{on:{click:function(e){return t.$router.push("/orders")}}},[t._v("Orders")])]),t._v(" "),r("li",[r("a",{on:{click:function(e){return t.$router.push("/slide")}}},[t._v("Slide")])]),t._v(" "),r("li",[r("a",{on:{click:function(e){return t.$router.push("/comment")}}},[t._v("Comment")])]),t._v(" "),r("li",[r("a",{on:{click:function(e){return t.$router.push("/user")}}},[t._v("Users")])])])]),t._v(" "),r("div",{staticClass:"col-sm-9 col-lg-10 sidebar"},[r("h3",[t._v("Orders Processing")]),t._v(" "),r("table",{staticClass:"table table-bordered"},[t._m(3),t._v(" "),r("tbody",t._l(t.orders,(function(e,n){return r("tr",{key:n},[r("td",[t._v(t._s(n+1)+"//"+t._s(e.id))]),t._v(" "),r("td",[t._v(t._s(e.customerId))]),t._v(" "),r("td",[t._v(t._s(e.order_status))]),t._v(" "),r("td",[t._v(t._s(e.total_price))]),t._v(" "),r("td",[r("b-button",{attrs:{variant:"success"},on:{click:function(r){return t.handelConfirm(e.id)}}},[t._v("Confirm")]),t._v(" "),r("b-button",{on:{click:function(r){return t.$router.push("/orders/detail/"+e.id)}}},[t._v("Detail")]),t._v(" "),r("b-button",{attrs:{variant:"danger"},on:{click:function(r){return t.handleCancel(e.id)}}},[t._v("Cancel")])],1)])})),0)]),t._v(" "),r("b-pagination",{attrs:{"total-rows":t.pagination.total,"per-page":t.pagination.perPage,"aria-controls":"my-table"},on:{change:t.handleChangePage},model:{value:t.pagination.currentPage,callback:function(e){t.$set(t.pagination,"currentPage",e)},expression:"pagination.currentPage"}})],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"navbar-toggle collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#sidebar-collapse"}},[e("span",{staticClass:"sr-only"},[this._v("Toggle navigation")]),this._v(" "),e("span",{staticClass:"icon-bar"}),this._v(" "),e("span",{staticClass:"icon-bar"}),this._v(" "),e("span",{staticClass:"icon-bar"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[e("span",[this._v("Scan & Go")]),this._v("Admin\n        ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"profile-sidebar"},[e("div",{staticClass:"profile-userpic"},[e("img",{staticClass:"img-responsive",attrs:{src:"http://placehold.it/50/30a5ff/fff",alt:""}})]),this._v(" "),e("div",{staticClass:"profile-usertitle"},[e("div",{staticClass:"profile-usertitle-name"},[this._v("Admin")]),this._v(" "),e("div",{staticClass:"profile-usertitle-status"},[e("span",{staticClass:"indicator label-success"}),this._v("Online\n          ")])]),this._v(" "),e("div",{staticClass:"clear"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",[t._v("STT//ID")]),t._v(" "),r("th",[t._v("Customer_id")]),t._v(" "),r("th",[t._v("Order_status")]),t._v(" "),r("th",[t._v("Total_price")]),t._v(" "),r("th",[t._v("Action")])])])}],!1,null,null,null);e.default=component.exports}}]);